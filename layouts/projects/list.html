{{ define "main" }}
  <section class="mx-auto max-w-3xl px-4 py-8">
    <div class="{{ .Params.boxColor | default `bg-[#fdfdfd]` }} rounded-2xl shadow-md p-6">
      <h1 class="text-4xl font-bold mb-6">
        {{ with .Params.emoji }}{{ . }} {{ end }}{{ .Title }}
      </h1>
      {{ with .Params.description }}
        <p class="text-lg text-ink/80 mb-8">{{ . }}</p>
      {{ end }}

      {{ $pages := .Pages }}
      {{ if .IsHome }}
        {{ $pages = .Site.RegularPages }}
      {{ end }}

      {{ range $pages }}
        <details class="group border-t border-ink/20 py-4 transition-all duration-300 ease-in-out">
          <summary class="flex cursor-pointer list-none items-center justify-between font-semibold text-xl">
            <span>{{ .Title }}</span>
            <span class="transition-transform duration-300 group-open:rotate-90">▶</span>
          </summary>
          <div class="mt-2 text-ink/90 prose prose-neutral max-w-none">
            {{ .Summary }}
            <p class="mt-2">
              <a href="{{ .RelPermalink }}" class="text-blue-500 hover:underline">Read more →</a>
            </p>
          </div>
        </details>
      {{ end }}
    </div>
  </section>
{{ end }}
{{ define "main" }}
<section class="mx-auto max-w-3xl px-4 py-8">
  <div class="bg-[#fff9f0] rounded-2xl shadow-md p-6">
    <h1 class="text-4xl font-bold mb-4 flex items-center">
      {{ with .Params.emoji }}<span class="mr-2">{{ . }}</span>{{ end }}
      {{ .Title }}
    </h1>

    <div class="text-sm text-gray-500 mb-4 flex flex-wrap gap-4 items-center">
      <span>📅 {{ .Date.Format "2006-01-02" }}</span>
      {{ if ne .Date.Unix .Lastmod.Unix }}
        <span>🛠️ Updated: {{ .Lastmod.Format "2006-01-02" }}</span>
      {{ end }}
      {{ if .Params.categories }}
        <span>🏷️ {{ delimit .Params.categories ", " }}</span>
      {{ end }}
      {{ if .Params.tags }}
        <span>🔖 
          {{ range $i, $tag := .Params.tags }}
            {{ if $i }}, {{ end }}<a href="/tags/{{ $tag | urlize }}/" class="underline hover:text-pink-500">{{ $tag }}</a>
          {{ end }}
        </span>
      {{ end }}
      <span>⏱️ {{ .ReadingTime }} min read</span>
    </div>

    {{ if .Params.featuredImage }}
      <img src="{{ .Params.featuredImage }}" alt="Cover image for {{ .Title }}" class="rounded-lg mb-6">
    {{ end }}

    <div class="prose prose-p:text-[1rem] prose-li:my-1 prose-img:rounded-lg max-w-none mb-6">
      {{ .Content }}
    </div>

    {{ with .Params.authorNote }}
      <div class="bg-yellow-100 border-l-4 border-yellow-400 text-yellow-800 p-4 rounded-md text-sm">
        ✍️ <strong>Author Note:</strong> {{ . }}
      </div>
    {{ end }}
  </div>
</section>
{{ end }}
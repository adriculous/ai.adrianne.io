{{ define "main" }}
<article class="mx-auto max-w-3xl px-4 py-8">
  <div class="rounded-2xl shadow-md p-6 {{ .Params.boxColor | default "bg-[#f3f8ff]" }}">
    <header class="mb-6">
      <h1 class="text-4xl font-bold mb-2">
        {{ with .Params.emoji }}{{ . }} {{ end }}{{ .Title }}
      </h1>
      <p class="text-sm text-ink/50">
        {{ if .Date }}
          📅 {{ .Date.Format "January 2, 2006" }}
        {{ end }}
        {{ if and (.Date) (ne .Date.Unix .Lastmod.Unix) }}
          • 🛠️ Updated: {{ .Lastmod.Format "January 2, 2006" }}
        {{ end }}
      </p>
    </header>

    {{ with .Params.featuredImage }}
    <img 
      src="{{ . }}" 
      alt="Featured image for {{ $.Title }}"
      class="rounded-lg mb-6 shadow"
    />
    {{ end }}

    <div class="prose prose-neutral text-neutral-900 max-w-none dark:prose-invert [&_blockquote]:text-neutral-800">
      {{ .Content }}

      <!-- Return to Prompts page -->
      <div class="mt-10 text-right">
        <a href="/prompt/"
          class="inline-block bg-pink-100 hover:bg-pink-200 text-pink-800 font-semibold px-5 py-2 rounded-full shadow-md transition underline-offset-0 !no-underline hover:!no-underline">
          🏷️ Back to Prompts
        </a>
      </div>
    </div>

    {{ with .Params.tags }}
    <div class="mt-8 flex flex-wrap gap-2">
      {{ range . }}
      <span class="bg-pink-100 text-pink-800 text-xs font-semibold px-3 py-1 rounded-full">#{{ . }}</span>
      {{ end }}
    </div>
    {{ end }}
  </div>
</article>
{{ end }}